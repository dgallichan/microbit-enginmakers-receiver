<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Jwp^5vnDHk4j3{E?ET-N">triggerLevel</variable><variable id="uHkaUMf=.oAG|!]TTYtI">deadTime_ms</variable><variable id="66.E+p|N?]3Z6@CX_njn">accelerationStrength</variable><variable id="L$]1zU3FQ;!qyq6]Fd[j">timeOfLastTrigger_ms</variable><variable id="%bs$lZNn5#,V_03HB$]h">triggerCounter</variable></variables><block type="pxt-on-start" id="R=5uyPD}LgGapSPV~opo" x="4" y="-5"><statement name="HANDLER"><block type="variables_set" id="Fl16mpA=WWc%cayQ+3Yl"><field name="VAR" id="Jwp^5vnDHk4j3{E?ET-N">triggerLevel</field><comment pinned="true" h="129.17910766601562" w="216.86334228515625">Here you can set the 'triggerLevel' and 'deadTime_ms' variables</comment><value name="VALUE"><shadow type="math_number" id="eH^_Rw}a~6FoeZEgMlv}"><field name="NUM">1500</field></shadow></value><next><block type="variables_set" id="(gR,bo[k?.kF*wzX~c_]"><field name="VAR" id="uHkaUMf=.oAG|!]TTYtI">deadTime_ms</field><value name="VALUE"><shadow type="math_number" id="+)T(psdh7RXms){RuyUa"><field name="NUM">0</field></shadow></value><next><block type="radio_set_group" id="dG._n4.`/a%U.@i[qDsM"><value name="ID"><shadow type="math_number_minmax" id=")7khRiOn3HOb.|tXCf^{"><mutation min="0" max="255" label="Id" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="variables_set" id="MPk?wj^~Pc%X9OPdzs1*"><field name="VAR" id="66.E+p|N?]3Z6@CX_njn">accelerationStrength</field><comment pinned="true" h="129.1790771484375" w="238.37921142578125">You don't need to change these variables - here we are just giving them values to start off</comment><value name="VALUE"><shadow type="math_number" id="+7To41wr@yc!QLD9Ix[e"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="xO}-G+7hh:!k+#o62I1)"><field name="VAR" id="L$]1zU3FQ;!qyq6]Fd[j">timeOfLastTrigger_ms</field><value name="VALUE"><shadow type="math_number" id="a)uySIuP`4K}`,ue1;6o"><field name="NUM">-1000</field></shadow></value><next><block type="variables_set" id="g,$bXzV{8`kG0]/{]G*E"><field name="VAR" id="%bs$lZNn5#,V_03HB$]h">triggerCounter</field><value name="VALUE"><shadow type="math_number" id="d=6Pe/`~VA@bC5Pi?J(b"><field name="NUM">0</field></shadow></value><next><block type="device_show_leds" id="inT*7%D)pqi9#_$qeohH"><field name="LEDS">`
        # # # # . 
        # . . # . 
        # # # # . 
        # . # . . 
        # . . # .
        `</field><comment pinned="true" h="136.86334228515625" w="212.2528076171875">It's useful to know what code we have on which microbit - here we've put 'R' for 'receiver' </comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="radio_on_value_drag" id="(qJ-N%;tYZO@*wSzTNqn" x="-27" y="658"><value name="HANDLER_DRAG_PARAM_name"><shadow type="argument_reporter_string" id="63LU:Llorpt3^N`F-Yeq"><field name="VALUE">name</field></shadow></value><value name="HANDLER_DRAG_PARAM_value"><shadow type="argument_reporter_number" id=":Am,}M9,CZzDV]osn0R5"><field name="VALUE">value</field></shadow></value><statement name="HANDLER"><block type="serial_writevalue" id="_s%C_6Qw?P=?8w#.UhwI"><comment pinned="true" h="113.81060791015625" w="307.5372314453125">The 'serial write' blocks send data from the microbit to the computer so we can see it on the screen</comment><value name="name"><shadow type="text"><field name="TEXT">x</field></shadow><block type="argument_reporter_string" id="3-.EX92@4Pe,4n#RG!aZ"><field name="VALUE">name</field></block></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="/W1mxhqU~(./`iJaLkD$"><field name="VALUE">value</field></block></value><next><block type="serial_writevalue" id="!vGHmJe.$7`9@!0^F-rX"><value name="name"><shadow type="text" id="FhU+8+cr)h3aw(om.bHp"><field name="TEXT">triggerCounter</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=".:SF[i$4k}JTgA,naHg~"><field name="VAR" id="%bs$lZNn5#,V_03HB$]h">triggerCounter</field></block></value><next><block type="variables_set" id=",jk0]?`o*lyY#_WmvhXB"><field name="VAR" id="66.E+p|N?]3Z6@CX_njn">accelerationStrength</field><comment pinned="true" h="89.2210693359375" w="301.389892578125">Here we store the received value of acceleration in a variable on our receiver</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="~i].9@pxn*0{*xZo9aJW"><field name="VALUE">value</field></block></value><next><block type="device_led_toggle" id="T1q9dmVsAaYvUA93m(v5"><comment pinned="true" h="96.9052734375" w="315.2215576171875">This just flashes one of the LEDs to let us know that data is being received</comment><value name="x"><shadow type="math_number_minmax" id="+S|L!{t:]7)`_P%gSF;N"><mutation min="0" max="4" label="X" precision="1"></mutation><field name="SLIDER">2</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="2AC9@15r0:M:zo:=_S;="><mutation min="0" max="4" label="Y" precision="1"></mutation><field name="SLIDER">2</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="P#UUWJx.i/?$pNxB5CyW" x="-403" y="1232"><mutation name="triggerDetector" functionid="RLXnfls9e3x:1VM:_lgb"></mutation><field name="function_name">triggerDetector</field><statement name="STACK"><block type="controls_if" id="W.U.1^_nPM|4IRDb=-eA"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="f.n47S7:#WH6r~4ep3T*"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="i!Z-k/LI%i#d^.Z5LUrt"><field name="OP">GT</field><comment pinned="true" h="126.1053466796875" w="336.7373046875">This compares the acceleration strength against our chosen 'triggerLevel'</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="=o7ztM9+`LMpju}P%xV["><field name="VAR" id="66.E+p|N?]3Z6@CX_njn">accelerationStrength</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="3e%4]@QW?%:2sZSB%^_v"><field name="VAR" id="Jwp^5vnDHk4j3{E?ET-N">triggerLevel</field></block></value></block></value><value name="B"><block type="logic_compare" id="$F,BA=GW)RPV8@FN28^y"><field name="OP">GT</field><comment pinned="true" h="90.7579345703125" w="342.884765625">This compares the time since the last trigger against our chosen 'deadTime_ms'</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="x:vj1~3JkXl|B,.SRg%d"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="Yv6hd~TI2O`FY_SY,;Ue"></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-f~r}oN^@vmYHtpnxcYe"><field name="VAR" id="L$]1zU3FQ;!qyq6]Fd[j">timeOfLastTrigger_ms</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="]@3`0notjgbDZ_Rfp2UG"><field name="VAR" id="uHkaUMf=.oAG|!]TTYtI">deadTime_ms</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_change" id="(S^x3/r_Tyc.`JC$`yU:"><field name="VAR" id="%bs$lZNn5#,V_03HB$]h">triggerCounter</field><value name="VALUE"><shadow type="math_number" id="qo#3f028dS#3OcBcEqTZ"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="C]*b9_%Te#W@nPDbi7[."><field name="VAR" id="L$]1zU3FQ;!qyq6]Fd[j">timeOfLastTrigger_ms</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="b$Y3a9KAOa!*@]=F1`]l"></block></value></block></next></block></statement></block></statement></block></xml>